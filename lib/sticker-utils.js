const a12_0x1e78b7=a12_0x5a6f;function a12_0x2d47(){const _0x162fb9=['end','Could\x20not\x20fetch\x20GIF.','FlVuQ','join','unlinkSync','webp','default','Could\x20not\x20fetch\x20image.','arraybuffer','toString','rCOiS','fluent-ffmpeg','toFormat','7plzahq','-vsync','hex','12723ChRYaz','fUUVM','Error\x20fetching\x20GIF:','axios','randomBytes','xMSSG','zyJZT','1441iAuTxa','get','.webp','setFfmpegPath','error','2218740MLHXrv','drXJw','Error\x20fetching\x20image:','-vf','Bjlzn','786186KlFdaY','7940WMJRdd','38453wzdYdu','8mJhLcL','-loop','914394MDaQtR','-preset','NGNbL','16ADCaRw','-vcodec','507345NnstlF','nUmCB','2UOAdWw','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','-an','data','WaOHB','crypto','path','@ffmpeg-installer/ffmpeg','save','addOutputOptions','lLxyP','AilBy'];a12_0x2d47=function(){return _0x162fb9;};return a12_0x2d47();}(function(_0x229ee6,_0x5d589b){const _0x2f2039=a12_0x5a6f,_0x441771=_0x229ee6();while(!![]){try{const _0x2e7e0d=-parseInt(_0x2f2039(0x1ed))/0x1*(parseInt(_0x2f2039(0x1f7))/0x2)+parseInt(_0x2f2039(0x1da))/0x3*(parseInt(_0x2f2039(0x1ee))/0x4)+parseInt(_0x2f2039(0x1f5))/0x5+parseInt(_0x2f2039(0x1f0))/0x6*(parseInt(_0x2f2039(0x1d7))/0x7)+-parseInt(_0x2f2039(0x1f3))/0x8*(-parseInt(_0x2f2039(0x1eb))/0x9)+-parseInt(_0x2f2039(0x1ec))/0xa*(parseInt(_0x2f2039(0x1e1))/0xb)+-parseInt(_0x2f2039(0x1e6))/0xc;if(_0x2e7e0d===_0x5d589b)break;else _0x441771['push'](_0x441771['shift']());}catch(_0x3fd531){_0x441771['push'](_0x441771['shift']());}}}(a12_0x2d47,0x1ac80));const axios=require(a12_0x1e78b7(0x1dd)),fs=require('fs'),path=require(a12_0x1e78b7(0x1fd)),{tmpdir}=require('os'),Crypto=require(a12_0x1e78b7(0x1fc)),ffmpegPath=require(a12_0x1e78b7(0x1fe))[a12_0x1e78b7(0x1fd)],ffmpeg=require(a12_0x1e78b7(0x1d5));ffmpeg[a12_0x1e78b7(0x1e4)](ffmpegPath);async function fetchImage(_0x6c0eb8){const _0x416df7=a12_0x1e78b7,_0x93b9b6={'iQQmL':_0x416df7(0x20b),'Bjlzn':_0x416df7(0x1e8),'zyJZT':_0x416df7(0x20a)};try{const _0x2dc374=await axios[_0x416df7(0x1e2)](_0x6c0eb8,{'responseType':_0x93b9b6['iQQmL']});return _0x2dc374[_0x416df7(0x1fa)];}catch(_0x5015bd){console['error'](_0x93b9b6[_0x416df7(0x1ea)],_0x5015bd);throw new Error(_0x93b9b6[_0x416df7(0x1e0)]);}}function a12_0x5a6f(_0x304175,_0x3e1508){const _0x2d47dd=a12_0x2d47();return a12_0x5a6f=function(_0x5a6f3,_0x50ddde){_0x5a6f3=_0x5a6f3-0x1d5;let _0x4d53ea=_0x2d47dd[_0x5a6f3];return _0x4d53ea;},a12_0x5a6f(_0x304175,_0x3e1508);}async function fetchGif(_0x357d28){const _0x85e179=a12_0x1e78b7,_0x43b63f={'fUUVM':'arraybuffer','rCOiS':_0x85e179(0x1dc)};try{const _0xa9747e=await axios[_0x85e179(0x1e2)](_0x357d28,{'responseType':_0x43b63f[_0x85e179(0x1db)]});return _0xa9747e['data'];}catch(_0x35af10){console[_0x85e179(0x1e5)](_0x43b63f[_0x85e179(0x20d)],_0x35af10);throw new Error(_0x85e179(0x204));}}async function gifToSticker(_0x1fc828){const _0x161d28=a12_0x1e78b7,_0x3efd59={'CXxFh':function(_0x140185,_0x180412){return _0x140185(_0x180412);},'WaOHB':'error','xMSSG':_0x161d28(0x1f4),'LAZiV':'libwebp','lLxyP':_0x161d28(0x1ef),'AilBy':_0x161d28(0x1f1),'cOAWh':_0x161d28(0x1f9),'NGNbL':function(_0x2dc888){return _0x2dc888();},'drXJw':function(_0x2ca1c3,_0x3b9227){return _0x2ca1c3+_0x3b9227;},'FlVuQ':_0x161d28(0x1d9),'nUmCB':function(_0x15299b,_0x3b98ab){return _0x15299b+_0x3b98ab;}},_0x3c2381=path[_0x161d28(0x206)](_0x3efd59[_0x161d28(0x1f2)](tmpdir),_0x3efd59[_0x161d28(0x1e7)](Crypto[_0x161d28(0x1de)](0x6)[_0x161d28(0x20c)](_0x3efd59['FlVuQ']),_0x161d28(0x1e3))),_0x2f003a=path[_0x161d28(0x206)](_0x3efd59[_0x161d28(0x1f2)](tmpdir),_0x3efd59[_0x161d28(0x1f6)](Crypto[_0x161d28(0x1de)](0x6)['toString'](_0x3efd59[_0x161d28(0x205)]),'.gif'));fs['writeFileSync'](_0x2f003a,_0x1fc828),await new Promise((_0x1f3db0,_0x18c04f)=>{const _0x5acbfb=_0x161d28;_0x3efd59['CXxFh'](ffmpeg,_0x2f003a)['on'](_0x3efd59[_0x5acbfb(0x1fb)],_0x18c04f)['on'](_0x5acbfb(0x203),()=>_0x1f3db0(!![]))[_0x5acbfb(0x200)]([_0x3efd59[_0x5acbfb(0x1df)],_0x3efd59['LAZiV'],_0x5acbfb(0x1e9),_0x5acbfb(0x1f8),_0x3efd59[_0x5acbfb(0x201)],'0',_0x3efd59[_0x5acbfb(0x202)],_0x5acbfb(0x209),_0x3efd59['cOAWh'],_0x5acbfb(0x1d8),'0'])[_0x5acbfb(0x1d6)](_0x5acbfb(0x208))[_0x5acbfb(0x1ff)](_0x3c2381);});const _0x1690ef=fs['readFileSync'](_0x3c2381);return fs['unlinkSync'](_0x3c2381),fs[_0x161d28(0x207)](_0x2f003a),_0x1690ef;}module['exports']={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};